{"version":3,"file":"static/js/229.90aa8abc.chunk.js","mappings":"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","sources":["pages/appointment/ModalContent.js","pages/Appoinment.js"],"sourcesContent":["import React, { useEffect, lazy, Suspense } from 'react';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { clearRegisterUserSchedule, clearUserSchedule, saveUserSchedule } from '../../store/userScheduleSlice';\r\nimport { getSessionStorage, prepareDataForSave, saveSessionData, isAndroid } from '../../utilities/utilities';\r\nimport { userFromSchedule } from '../../store/usersSlice';\r\nimport { useState } from 'react';\r\n// import { proceed_to_pay } from '../../store/paymentSlice';\r\n\r\nconst SessionDetails = lazy(() => import('./SessionDetails'))\r\nconst PatientDetails = lazy(() => import('./PatientDetails'))\r\nconst PaymentDetails = lazy(() => import('./PaymentDetails'))\r\nconst WelcomeMessage = lazy(() => import('./WelcomeMessage'))\r\n\r\nexport default function ModalContent() {\r\n    const slides = [\r\n        {\r\n            component: <SessionDetails />,\r\n        },\r\n        {\r\n            component: <PatientDetails />,\r\n        },\r\n        {\r\n            component: <WelcomeMessage />,\r\n        },\r\n        {\r\n            component: <PaymentDetails />,\r\n        },\r\n    ];\r\n    const { registerUserSchedule, frontUserSingleSchedule, defaultSchedule } = useSelector(\r\n        (state) => state.userSchedules\r\n    );\r\n    const { scheduleUser, users } = useSelector(\r\n        (state) => state.users\r\n    );\r\n    const { branches } = useSelector(\r\n        (state) => state.branches\r\n    );\r\n    const [pageNo, setPageNo] = useState(1)\r\n    const dispatch = useDispatch();\r\n\r\n    const checkValidation = (e) => {\r\n        let status =\r\n            document.getElementsByClassName('carousel-status')[0].innerHTML;\r\n        let currentPage = parseInt(status.split('of')[0]);\r\n        setPageNo(currentPage)\r\n        let slideObject = registerUserSchedule[currentPage];\r\n        let sessionData = getSessionStorage(['registerUserSchedule']);\r\n        if (sessionData === undefined) {\r\n            alert(\r\n                'Please fill the value of session_name, doctor_id, session_date, session_time.'\r\n            );\r\n        } else {\r\n            sessionData = sessionData['registerUserSchedule'];\r\n            sessionData = sessionData[currentPage];\r\n        }\r\n        let alertData = [];\r\n        Object.keys(slideObject).map((key) => {\r\n            if (\r\n                !sessionData.hasOwnProperty(key) ||\r\n                sessionData[key] === undefined ||\r\n                sessionData[key] === '' ||\r\n                sessionData[key] == '0'\r\n            ) {\r\n                if (key !== 'user_id') alertData.push(key);\r\n            }\r\n        });\r\n\r\n        return { alertData, currentPage };\r\n    }\r\n\r\n    function isCurrentSlideIsValid(e, callback) {\r\n\r\n        let validateData = checkValidation(e);\r\n\r\n        if (validateData.alertData.length) {\r\n            alert('Please fill the value of ' + validateData.alertData.join(', '));\r\n        } else {\r\n            let data = getSessionStorage(['registerUserSchedule']);\r\n            data = data['registerUserSchedule'];\r\n            data = prepareDataForSave(data);\r\n            if (validateData.currentPage === 2) {\r\n                let userData = {\r\n                    email: data.email,\r\n                    name: data.name,\r\n                    phone: data.phone,\r\n                };\r\n                dispatch(userFromSchedule({\r\n                    endpoint: '/api/users/user_from_schedule',\r\n                    config: {\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        method: 'POST',\r\n                        body: JSON.stringify(userData),\r\n                    }\r\n                }));\r\n            }\r\n\r\n            callback();\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (scheduleUser.hasOwnProperty('_id')) {\r\n            prepareScheduleSessionData(\r\n                'user_id',\r\n                scheduleUser._id\r\n            );\r\n        }\r\n    }, [scheduleUser])\r\n\r\n    function prepareScheduleSessionData(\r\n        key,\r\n        value,\r\n        pageNumber = 2,\r\n        sessionKey = 'registerUserSchedule'\r\n    ) {\r\n        let sessionData = getSessionStorage([sessionKey]);\r\n        if (pageNumber && key && value) {\r\n            Object.keys(sessionData[sessionKey][pageNumber]).map(\r\n                (currentKey) => {\r\n                    if (currentKey == key) {\r\n                        sessionData[sessionKey][pageNumber][key] = value;\r\n                    }\r\n                }\r\n            );\r\n        }\r\n        saveSessionData(sessionKey, sessionData[sessionKey]);\r\n    }\r\n\r\n    const submitSchedule = async (e, currentPage, callback) => {\r\n        e.preventDefault();\r\n        if (!document.getElementById('tems_and_conditions').checked) return alert('Please check the terms of services and refund policy.')\r\n\r\n        let data = getSessionStorage(['registerUserSchedule'])\r\n        data = prepareDataForSave(data['registerUserSchedule'])\r\n        branches.map(branch => {\r\n            if (data.branch_id === branch._id) {\r\n                data.branch_name = branch.name;\r\n            }\r\n        })\r\n        if (!data.hasOwnProperty('branch_name')) {\r\n            data.branch_name = 'online';\r\n        }\r\n        if (scheduleUser && scheduleUser.hasOwnProperty('name')) {\r\n            data.doctor_name = scheduleUser.name;\r\n        }\r\n\r\n        // Save session detail to database.\r\n        /**\r\n         * Mail session details to user\r\n         * \r\n         * Pro feature mail will be send to admin and doctor.\r\n         */\r\n        dispatch(\r\n            saveUserSchedule({\r\n                endpoint: '/api/userschedules',\r\n                config: {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    method: 'POST',\r\n                    body: JSON.stringify(data),\r\n                },\r\n            })\r\n        );\r\n\r\n        callback()\r\n\r\n\r\n    }\r\n\r\n    const proceedToPay = (e, frontUserSingleSchedule) => {\r\n        e.preventDefault();\r\n        if (frontUserSingleSchedule.hasOwnProperty('_id') && frontUserSingleSchedule._id) {\r\n            window.open('https://shop.bkash.com/md-mehedi-hasan01715703260/paymentlink/default-payment');\r\n            saveSessionData('registerUserSchedule', defaultSchedule);\r\n            dispatch(clearUserSchedule({}))\r\n            dispatch(clearRegisterUserSchedule(defaultSchedule))\r\n            ////////////////////////////////////////////////\r\n            // This code will be applied for sslcommercz\r\n            ///////////////////////////////////////////////\r\n            // dispatch(proceed_to_pay({\r\n            //     endpoint: '/api/payment',\r\n            //     config: {\r\n            //         headers: {\r\n            //             'Content-Type': 'application/json',\r\n            //         },\r\n            //         method: 'POST',\r\n            //         body: JSON.stringify(frontUserSingleSchedule),\r\n            //     },\r\n            // }))\r\n        } else {\r\n            alert('Something went wrong. Please try again.')\r\n        }\r\n    }\r\n\r\n\r\n    const getButtonPosition = () => {\r\n        let buttonPosition = 'top-[88%]';\r\n        if (pageNo === 4) {\r\n            buttonPosition = 'top-[35%]'\r\n            if (window.innerWidth > 575) {\r\n                buttonPosition = 'top-[50%]'\r\n            }\r\n        } else if (pageNo === 3) {\r\n            buttonPosition = 'top-[50%]'\r\n            if (window.innerWidth > 575) {\r\n                buttonPosition = 'top-[88%]'\r\n            }\r\n        } else if (pageNo === 2) {\r\n            buttonPosition = 'top-[50%]'\r\n        }\r\n\r\n        return buttonPosition;\r\n    }\r\n\r\n    return (\r\n        <Suspense fallback={<h1>Loading</h1>} >\r\n            <Carousel\r\n                showStatus={true} // default true. i.e 1 of 3\r\n                showThumbs={false}\r\n                autoPlay={false}\r\n                infiniteLoop={false}\r\n                emulateTouch={isAndroid() ? true : false}\r\n                autoFocus={false}\r\n                onSwipeMove={(e) => {\r\n                    // let validateData = checkValidation(e);\r\n                    // if (validateData.alertData.length) {\r\n                    //     alert('Please fill the value of ' + validateData.alertData.join(', '));\r\n                    // }\r\n                }}\r\n                // showArrows={true}\r\n                showIndicators={false}\r\n                renderArrowPrev={(hasPrev, label) => (\r\n                    <button\r\n                        type=\"button\"\r\n                        className={[\"absolute top-[88%] left-[10%] sm:left-[44%] px-4 py-2 z-50 bg-themeColor text-white hover:bg-white hover:text-themeColor hover:border-2 hover:border-themeColor\", getButtonPosition()].join(' ')}\r\n                        onClick={hasPrev}\r\n                    >\r\n                        Back\r\n                    </button>\r\n                )}\r\n                renderArrowNext={(hasNext, label) => {\r\n                    let currentPage = 1;\r\n                    if (document.getElementsByClassName('carousel-status').length) {\r\n                        let status =\r\n                            document.getElementsByClassName('carousel-status')[0].innerHTML;\r\n                        currentPage = parseInt(status.split('of')[0]);\r\n                    }\r\n                    setPageNo(currentPage)\r\n                    {\r\n                        return currentPage !== 4 ? currentPage === 3 ? <button\r\n                            type=\"button\"\r\n                            className={[\"absolute top-[88%] left-[54%] justify-center px-4 py-2 z-50 bg-themeColor text-white hover:bg-white hover:text-themeColor hover:border-2 hover:border-themeColor\", getButtonPosition()].join(' ')}\r\n                            onClick={(e) => submitSchedule(e, currentPage, hasNext)}\r\n                        >\r\n                            Submit\r\n                        </button> : <button\r\n                            type=\"button\"\r\n                            className={[\"absolute left-[54%] justify-center px-4 py-2 z-50 bg-themeColor text-white hover:bg-white hover:text-themeColor hover:border-2 hover:border-themeColor\", getButtonPosition()].join(' ')}\r\n                            onClick={(e) => isCurrentSlideIsValid(e, hasNext)}\r\n                        >\r\n                            Next\r\n                        </button> : <button type='button' className={['absolute left-[54%] justify-center px-4 py-2 z-50 bg-themeColor text-white hover:bg-white hover:text-themeColor hover:border-2 hover:border-themeColor', getButtonPosition()].join(' ')} onClick={(e) => proceedToPay(e, frontUserSingleSchedule)}>Proceed To Pay</button>\r\n                    }\r\n                }}\r\n                className=\"presentation-mode appointment px-5 my-8 !overflow-y-scroll \"\r\n            >\r\n                {slides.map((item, index) => {\r\n                    return <div key={index}>{item.component}</div>;\r\n                })}\r\n            </Carousel>\r\n        </Suspense>\r\n    );\r\n}\r\n","import FrontSkeleton from '../layouts/front/FrontSkeleton';\r\nimport ModalContent from './appointment/ModalContent';\r\n\r\nexport default function Appoinment() {\r\n    return (\r\n        <FrontSkeleton\r\n            css={[\r\n                '/assets/front/css/tailwind.css',\r\n                '/assets/front/css/carousel.css',\r\n                '/assets/front/css/appointment.css',\r\n                '/assets/front/css/footer.css',\r\n            ]}\r\n        >\r\n            <ModalContent />\r\n        </FrontSkeleton>\r\n    );\r\n}\r\n"],"names":["SessionDetails","lazy","PatientDetails","PaymentDetails","WelcomeMessage","ModalContent","slides","component","useSelector","state","userSchedules","registerUserSchedule","frontUserSingleSchedule","defaultSchedule","users","scheduleUser","branches","useState","pageNo","setPageNo","dispatch","useDispatch","isCurrentSlideIsValid","e","callback","validateData","status","document","getElementsByClassName","innerHTML","currentPage","parseInt","split","slideObject","sessionData","getSessionStorage","undefined","alert","alertData","Object","keys","map","key","hasOwnProperty","push","checkValidation","length","join","data","prepareDataForSave","userData","email","name","phone","userFromSchedule","endpoint","config","headers","method","body","JSON","stringify","useEffect","value","pageNumber","sessionKey","currentKey","saveSessionData","prepareScheduleSessionData","_id","submitSchedule","preventDefault","getElementById","checked","branch","branch_id","branch_name","doctor_name","saveUserSchedule","getButtonPosition","buttonPosition","window","innerWidth","Suspense","fallback","showStatus","showThumbs","autoPlay","infiniteLoop","emulateTouch","isAndroid","autoFocus","onSwipeMove","showIndicators","renderArrowPrev","hasPrev","label","type","className","onClick","renderArrowNext","hasNext","open","clearUserSchedule","clearRegisterUserSchedule","proceedToPay","item","index","Appoinment","FrontSkeleton","css"],"sourceRoot":""}